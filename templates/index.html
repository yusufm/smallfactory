{% extends "base.html" %}

{% block title %}Dashboard - smallfactory{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="jumbotron bg-primary text-white rounded p-5 mb-4">
            <h1 class="display-4">
                <i class="fas fa-industry me-3"></i>smallfactory
            </h1>
            <p class="lead">Lightweight, Git-native PLM for small teams</p>
            <hr class="my-4 border-light">
            <p>Manage your inventory with simplicity and transparency. All changes are automatically tracked in Git.</p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-boxes fa-3x text-primary mb-3"></i>
                <h5 class="card-title">View Inventory</h5>
                <p class="card-text">Browse and search your complete inventory list</p>
                <a href="{{ url_for('inventory_list') }}" class="btn btn-primary">
                    <i class="fas fa-eye me-1"></i>View All Items
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-plus-circle fa-3x text-success mb-3"></i>
                <h5 class="card-title">Add New Item</h5>
                <p class="card-text">Add new inventory items to your system</p>
                <a href="{{ url_for('add_inventory') }}" class="btn btn-success">
                    <i class="fas fa-plus me-1"></i>Add Item
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-code fa-3x text-info mb-3"></i>
                <h5 class="card-title">API Access</h5>
                <p class="card-text">Integrate with external systems using our REST API</p>
                <button class="btn btn-info" data-bs-toggle="modal" data-bs-target="#apiModal">
                    <i class="fas fa-book me-1"></i>API Docs
                </button>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-info-circle me-2"></i>Quick Start Guide
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Getting Started:</h6>
                        <ol>
                            <li>Add your first inventory item using the "Add Item" button</li>
                            <li>View and manage your inventory from the "View Inventory" page</li>
                            <li>Use quantity adjustments to track usage</li>
                            <li>All changes are automatically committed to Git</li>
                        </ol>
                    </div>
                    <div class="col-md-6">
                        <h6>Key Features:</h6>
                        <ul>
                            <li><strong>Git-native:</strong> All data versioned and tracked</li>
                            <li><strong>Simple:</strong> Minimal setup, maximum functionality</li>
                            <li><strong>Flexible:</strong> Custom fields supported</li>
                            <li><strong>API-first:</strong> Full REST API for integrations</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- API Documentation Modal -->
<div class="modal fade" id="apiModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">API Documentation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <h6>REST API Endpoints:</h6>
                <div class="table-responsive">
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Endpoint</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge bg-primary">GET</span></td>
                                <td>/api/inventory</td>
                                <td>List all inventory items</td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-primary">GET</span></td>
                                <td>/api/inventory/{sku}</td>
                                <td>Get specific inventory item</td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-success">POST</span></td>
                                <td>/api/inventory</td>
                                <td>Add new inventory item</td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-warning">PUT</span></td>
                                <td>/api/inventory/{sku}</td>
                                <td>Update inventory item</td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-info">POST</span></td>
                                <td>/api/inventory/{sku}/adjust</td>
                                <td>Adjust quantity (+/- delta)</td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-danger">DELETE</span></td>
                                <td>/api/inventory/{sku}</td>
                                <td>Delete inventory item</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <h6 class="mt-3">Example Usage:</h6>
                <pre><code># Add new item
curl -X POST http://localhost:5000/api/inventory \
  -H "Content-Type: application/json" \
  -d '{"sku":"test-001","name":"Test Item","quantity":10,"location":"Shelf A"}'

# Adjust quantity
curl -X POST http://localhost:5000/api/inventory/test-001/adjust \
  -H "Content-Type: application/json" \
  -d '{"delta":-2}'</code></pre>
            </div>
        </div>
    </div>
</div>
{% endblock %}
